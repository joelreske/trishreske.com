---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  date: Date;
  author: string;
  categories: string[];
}

const { title, date, author, categories } = Astro.props;

const formatDate = (date: Date) => {
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
};
---

<BaseLayout title={`${title} - Trish Reske's StoryLines Blog`}>
  <article class="post-card">
    <h2 class="text-xl font-serif mb-1">
      <a href="#" class="text-[#900] hover:text-black hover:underline">{title}</a>
    </h2>

    <p class="byline">
      By <span class="font-semibold">{author}</span>
      on <span class="time">{formatDate(date)}</span>
    </p>

    <div class="post-content">
      <slot />
    </div>

    <div class="post-meta mt-4 pt-4 border-t border-gray-200">
      {categories.length > 0 && (
        <p class="text-sm text-gray-600">
          Posted in: {categories.map((cat, i) => (
            <span>
              <a href={`/category/${cat.toLowerCase().replace(/\s+/g, '-')}`} class="text-[#900]">{cat}</a>
              {i < categories.length - 1 && ', '}
            </span>
          ))}
        </p>
      )}
    </div>
  </article>
</BaseLayout>
